# StorojBot

Для запуска и работоспособности необходимо:

* Python 3.6 и выше:  
    * pip - пакеты(зависимости):  
BeautifulSoup, requests, lxml, configparser, Flask  
* p.s. На данной стадии разработки не особо важна версия пакетов  
Лучше использовать виртуальную среду(venv).  

* Ngrok (если отсутсвует статический IP, или вообще IP-серый) - данное приложение выдает статическое DNS-имя, для обработки webhook запросов Telegram-сервером. Можно и зарегаться, а можно и не регаться. Команда для запуска

> ./ngrok http 5000

или 

> ngrok.exe http 5000
соответсвенно.

* Телеграм аккаунт + телеграм бот(подробно как создать бота, и как включить вебхуки описывать не буду, а то гугл лопнет от одинаковой инфы) С ботом все просто, зарегестрировал, перевел в режим webhook. Забрал API-token.


https://api.telegram.org/bot*токен_без_звездочек*/setWebhook?ссылка_из_ngrok

**Возможны проблемы в работе с API телеграмма, так как он заблокирован в РФ.** *Необходим VPN, Proxy, TOR или что нибудь из миллиона "свобод".*

По порядку:

1. Установка python  

3. Создание venv  

5. Установка pip-пакетов в venv  

7. Слив копии с GitHab`a  

9. Скачивание и регистрация(по желанию) ngrok, и его запуск, забираем выданную ngrok`ом ссылку.  

11. Запуск телеграмм  

13. Регистрация бота через бот-faver`a  

15. Получаем bot_token  

17. Создать файл settings.cfg в корне с приложением  

19. Прописываем в settings.cfg  
>[Telegram_Token]
>token = сюда_вписать_ваш_токен

24. Переводим бота в режим работы по webhook

26. Назначаем ссылку webhook`у из ngrok

28. Пробуем запустить app.py

30. Если запустился демон фласка, пишем боту /url https://www.avito.ru/sochi/noutbuki?cd=1&s=104


Приложение находится в очень сырой стадии разработки+, возможны где то встречаются мои токены.








